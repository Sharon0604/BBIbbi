{"version":3,"file":"js/341.eb199c13.js","mappings":"8MACO,MAAMA,EAAcC,IAChBC,EAAAA,EAAAA,GAAI,CACPC,IAAI,cACJC,OAAO,CAACH,S,4OC2CDI,EAAAA,EAAAA,MAAd,MACMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,IAAS,CACpBC,MAAM,GACNC,KAAM,KAEHC,EAAcA,KACjBC,QAAQC,MAAM,EAEZC,EAASA,KACXC,EAAUR,EAAME,MAAM,EAEpBM,EAAYC,UACd,MAAM,KAACC,SAAclB,EAAWU,GAChCQ,EAAKC,SAAQC,IACXA,EAAKC,KAAO,yBAAyBD,EAAKC,KAC1CD,EAAKE,QAAUC,WAAWH,EAAKI,QAAU,CAAC,IAG5ChB,EAAMG,KAAOO,CAAI,EAEfO,EAAcf,IAChBJ,EAAOoB,KAAK,CAACC,KAAK,WAAWC,MAAM,CAACC,IAAInB,IAAQ,EAG9CoB,EAASA,KACbxB,EAAOoB,KAAK,IAAI,E,g4CCnElB,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://md/./src/api/search.js","webpack://md/./src/views/Search/Search.vue","webpack://md/./src/views/Search/Search.vue?f0a5"],"sourcesContent":["import req from \"@/utils/must\"\r\nexport const searchInfo = (key)=>{\r\n    return req({\r\n        url:'/search.php',\r\n        params:{key}\r\n    })\r\n}","<template>\r\n    <van-nav-bar @click=\"goHome\" title=\"BBIbbi\" fixed placeholder :border=\"false\"\r\n     left-arrow\r\n     @click-left=\"onClickLeft\"\r\n   />\r\n   <div class=\"container\">\r\n     <div class=\"search-box\">\r\n       <van-search placeholder=\"搜索\" @search=\"search\" v-model=\"state.value\"  />\r\n     </div>\r\n     <div v-if=\"state.list.length > 0\" class=\"list\">\r\n       <van-list\r\n         :immediate-check=\"false\"\r\n         v-model:loading=\"loading\"\r\n         :finished=\"finished\"\r\n         finished-text=\"没有更多了\"\r\n       >\r\n         <div\r\n           class=\"list-item\"\r\n           v-for=\"item in state.list\"\r\n           :key=\"item.mId\"\r\n         >\r\n           <div class=\"img\" @click=\"goFilmInfo(item.mId)\">\r\n             <van-image width=\"60\" height=\"76\" \r\n             :src=\"item.mImg\" />\r\n           </div>\r\n           <div class=\"right\">\r\n             <div class=\"title\">\r\n               {{ item.mName }}&nbsp;&nbsp;<span>({{item.mYear}})</span>\r\n             </div>\r\n             <div class=\"rate\">\r\n               <van-rate color=\"#ffac2d\" v-model=\"item.cmScore\" readonly allow-half />\r\n               <div class=\"text\">{{ item.cmScore }}</div>\r\n             </div>\r\n             <div class=\"info\">\r\n               <div class=\"label\">{{ item.mClass }}</div>\r\n               <div class=\"des\">{{ item.mAddr }}</div>\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </van-list>\r\n     </div>\r\n   </div>\r\n </template>\r\n <script setup>\r\n import { ref, reactive, onMounted } from 'vue'\r\n import {useRouter, useRoute} from \"vue-router\"\r\n import {searchInfo} from \"@/api/search\"\r\n const route = useRoute()\r\n const router = useRouter()\r\n const state = reactive({\r\n    value:\"\",\r\n    list: []\r\n })\r\n const onClickLeft = ()=>{\r\n    history.back()\r\n}\r\nconst search = ()=>{\r\n    searchApi(state.value)\r\n}\r\nconst searchApi = async (value)=>{\r\n    const {data} = await searchInfo(value)\r\n    data.forEach(item => {\r\n      item.mImg = \"http://localhost:9999/\"+item.mImg\r\n      item.cmScore = parseFloat(item.mScore) / 2 \r\n    });\r\n\r\n    state.list = data\r\n}\r\nconst goFilmInfo = (value)=>{\r\n    router.push({name:'FilmInfo',query:{mId:value}})\r\n}\r\n\r\nconst goHome = ()=>{\r\n  router.push(\"/\")\r\n}\r\n\r\n </script>\r\n <style lang=\"scss\" scoped>\r\n .container {\r\n   font-size: 3.733vw;\r\n   .search-box {\r\n        padding: 2.667vw;\r\n        background-color: #fff;\r\n    }\r\n     :deep(van-search) {\r\n       overflow: hidden;\r\n       border-radius: 1.333vw;\r\n       padding: 0;\r\n       .van-search__content {\r\n         background-color: #fff;\r\n       }\r\n     }\r\n   }\r\n   ::v-deep .van-nav-bar__left {\r\n    i {\r\n      color: #141313 !important;\r\n    }\r\n  }\r\n   .top {\r\n     display: flex;\r\n     flex-wrap: wrap;\r\n     justify-content: space-between;\r\n     padding: 0 4.267vw;\r\n     margin-top: 2.667vw;\r\n     .img {\r\n       position: relative;\r\n       height: 16vw;\r\n \r\n       border-radius: 1.333vw;\r\n       overflow: hidden;\r\n       :deep(van-image__img) {\r\n         border-radius: 1.333vw;\r\n       }\r\n       .label {\r\n         position: absolute;\r\n         top: 11.2vw;\r\n         left: -0.8vw;\r\n         color: #fff;\r\n         width: 9.067vw;\r\n         height: 5.333vw;\r\n         font-size: 3.2vw;\r\n         text-align: center;\r\n         line-height: 5.333vw;\r\n         background-color: rgba(0, 0, 0, 0.4);\r\n         transform: scale(0.8);\r\n         border-radius: 1.333vw;\r\n       }\r\n     }\r\n \r\n     .box {\r\n       margin-bottom: 2.667vw;\r\n       width: 43%;\r\n       height: 16vw;\r\n       border-radius: 1.333vw;\r\n       display: flex;\r\n       align-items: center;\r\n       background-color: #f7f7f7;\r\n       padding: 2.133vw 2.667vw;\r\n \r\n       .right {\r\n         margin-left: 1.6vw;\r\n         flex: 1;\r\n         font-size: 3.733vw;\r\n         .title {\r\n           overflow: hidden;\r\n           -webkit-line-clamp: 2;\r\n           text-overflow: ellipsis;\r\n           display: -webkit-box;\r\n           -webkit-box-orient: vertical;\r\n         }\r\n       }\r\n       .people {\r\n         font-size: 3.2vw;\r\n         color: #b2b2b2;\r\n       }\r\n     }\r\n   }\r\n   .list {\r\n     padding: 0 3.733vw;\r\n   }\r\n   .list-item {\r\n     position: relative;\r\n     display: flex;\r\n     height: 26.667vw;\r\n     align-items: center;\r\n     :deep(van-image__img) {\r\n       border-radius: 1.333vw;\r\n     }\r\n     .right {\r\n       padding: 3.733vw 0;\r\n       margin-left: 2.667vw;\r\n       height: 100%;\r\n       width: 100%;\r\n       box-sizing: border-box;\r\n \r\n       border-bottom: 0.267vw solid #999;\r\n       .title {\r\n         font-size: 3.733vw;\r\n         font-weight: 700;\r\n         span {\r\n           color: #999;\r\n           font-weight: 500;\r\n         }\r\n       }\r\n     }\r\n     .rate {\r\n       .van-rate {\r\n         width: 37.333vw;\r\n         position: absolute;\r\n         transform: scale(0.5);\r\n         bottom: 13.333vw;\r\n         left: 9.067vw;\r\n       }\r\n       .text {\r\n         font-size: 3.733vw;\r\n         margin-left: 16.533vw;\r\n       }\r\n     }\r\n     .info {\r\n       color: #999;\r\n       position: relative;\r\n       .label {\r\n         background-color: #f2f2f2;\r\n         padding: 0 0.533vw;\r\n         color: #494949;\r\n         display: inline;\r\n         margin-right: 1.6vw;\r\n       }\r\n       .des {\r\n         display: inline;\r\n       }\r\n     }\r\n   }\r\n </style>\r\n","import script from \"./Search.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Search.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=2bff7404&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Sharon\\\\Desktop\\\\webVue\\\\md\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2bff7404\"]])\n\nexport default __exports__"],"names":["searchInfo","key","req","url","params","useRoute","router","useRouter","state","reactive","value","list","onClickLeft","history","back","search","searchApi","async","data","forEach","item","mImg","cmScore","parseFloat","mScore","goFilmInfo","push","name","query","mId","goHome","__exports__"],"sourceRoot":""}